legend(x=100,legend=c("曲线","净值"),trace=TRUE,plot = TRUE)
legend(x=100,legend=c("曲线","净值"),trace=TRUE,plot = TRUE)
legend("bottomright",inset=c(-0.45,0),c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16,col=c("orange","green","blue","black","pink","red","yellow"))
legend("bottomright",inset=c(0,0),c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16,col=c("orange","green","blue","black","pink","red","yellow"))
legend("topleft",inset=c(0,0),c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16,col=c("orange","green","blue","black","pink","red","yellow"))
legend("topleft",inset=c(0,0),legend=c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16,col=c("orange","green","blue","black","pink","red","yellow"))
legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16,col = c("orange","green","blue","black","pink","red","yellow"))
plot(SNET)#画净值曲线
lines(SNET,col="red")
legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16,col = c("orange","green","blue","black","pink","red","yellow"))
legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
table()
table(SNET)
title(main = " ", sub = " ", xlab = " ",  ylab = " ")
title(main = "净值曲线", sub = " ", xlab = " ",  ylab = " ")
par(family='SimHei')#中文字体
title(main = "净值曲线", sub = " ", xlab = " ",  ylab = " ")
plot(SNET,title(main = "净值曲线", sub = " ", xlab = " ",  ylab = " "))#画净值曲线
plot(SNET,title=title(main = "净值曲线", sub = " ", xlab = " ",  ylab = " "))#画净值曲线
plot(SNET,title=title(main = "净值曲线", sub = " ", xlab = " ",  ylab = " "))#画净值曲线
plot(SNET,title=c(main = "净值曲线", sub = " ", xlab = " ",  ylab = " "))#画净值曲线
plot(SNET,title=c(main = "净值曲线", sub = " ", xlab = " ",  ylab = " "))#画净值曲线
plot(SNET,main = "净值曲线", sub = " ", xlab = " ",  ylab = " ")#画净值曲线
lines(SNET,col="red")
plot(SNET,main = "净值曲线", sub = " ", xlab = " ",  ylab = " ",line.col="red")#画净值曲线
plot.xts(SNET,main = "净值曲线", sub = " ", xlab = " ",  ylab = " ",line.col="red")#画净值曲线
plot.xts(SNET,main = "净值曲线", sub = " ", xlab = " ",  ylab = " ")#画净值曲线
warnings()
plot.xts(SNET,main = "净值曲线", sub = " ", xlab = " ",  ylab = " ")#画净值曲线
plot.xts(SNET,main = "净值曲线", sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",l.col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
error()
errors()
warnings()
plot.xts(SNET,main = "净值曲线",col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
?axis
plot.xts(SNET,main = "净值曲线",candle.col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",bar.col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",l.col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
library("xtsExtra")
plot.xts(SNET,main = "净值曲线",.col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red",sub = "副标题", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(auto.legend = FALSE,SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(auto.legend = TRUE,SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="n")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="s")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="h")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="o")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="b")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red", xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
text("afafdfa")
text(x=0,y=0,"afafdfa")
text(inset=c(0,0),"afafdfa")
text("topleft","afafdfa")
plot.xts(SNET,main = "净值曲线",col="red",lwd=2, xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
text(x=0,y=0,"afafdfa")
text("afafdfa")
cars <- c(1, 3, 6, 4, 9)
plot(cars)
plot(cars, type="o", col="blue")
plot(cars, type="h", col="blue")
plot(cars, type="l", col="blue")
title(main="Autos", col.main="red", font.main=4)
box()
text(axTicks(3), -0.8, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(axTicks(1), -0.8, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
?axTicks
text(axTicks(1), 0.8, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(axTicks(1), 4, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(4, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(7，7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(7,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(9,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(5,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(6,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
plot(cars)
text(6,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
box()
text(6,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(1,7, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(1,2, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(14,2, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(14,0, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(14,1, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(14,0.5, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(10010,0.5, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(2,0.5, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(axTicks(3),0.5, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
(axTicks(3)
)
axTicks(3)
axTicks(2)
axTicks(1)
axTicks(2)
axTicks(4)
text(x=c(1,2,3,4,5),0.5, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=c(1,2,3,4,5),y=1, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=c(1,2,3,4,5),y=2, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=c(1,2,3,4,5),y=3, srt=45, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=c(1,2,3,4,5),y=3, srt=90, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=c(1,2,3,4,5),y=4, srt=90, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=c(1,2,3,4,5),y=4, srt=90, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"))
axTicks(4)
text(x=c(1,2,3,4,5),y=5, srt=90, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"))
text(x=c(1,2,3,4,5),y=4, srt=90, adj=0.5,labels=c("Mon", "Tue", "Wed", "Thu", "Fri"),xpd=T, cex=0.8)
text(x=1,y=c(9,8.5,8,7.5,7), srt=90, adj=0.5,labels=measure,xpd=T, cex=0.8)
data<- as.xts(read.zoo(file="R/data.csv",sep = ";", format = "%Y/%m/%d"))#从csv导入数据
dimnames(data) <- list(c(1:2),c("NET","SNET"))#设定净值列名
index(data) <- as.POSIXct(index(data))#将时间序列的时间类型从"Date" 转成 "POSIXct" "POSIXt"
data<- apply.weekly(data,last)#转为周净值
SNET <- data[,"SNET"]#净值序列
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
measure=vector(mode="numeric",length=8);#存储结果
measure[1]= (as.numeric(last(SNET))/as.numeric(first(SNET)))*(52/nweeks(SNET))-1;#Annualized Yield 年化收益率
text(x=1,y=c(9,8.5,8,7.5,7), srt=90, adj=0.5,labels=measure,xpd=T, cex=0.8)
text(x=1,y=c(9,8.5,8,7.5,7), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
text(x=1,y=c(9,8.5,8,7.5,7), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
text(x=1,y=c(9,8.5,8,7.5,7), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
par(family='SimHei')#中文字体
text(x=1,y=c(9,8.5,8,7.5,7), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
text(x=1,y=c(9,8.5,8,7.5,7), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
text("topleft", srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
text(x=0,y=c(0.1,0.2,0.3,0.4), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
text(x=0,y=c(0.1,0.2,0.3,0.4), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
measure[2]=(52^0.5)*std(TS(2:end,1)./TS(1:end-1,1)-1);#Annualized STD
measure[3]=min(dra(:,2));#Maximum Drawdown
text(x=1,y=c(0.1,0.2,0.3,0.4), srt=0, adj=0.5,labels=measure,xpd=T, cex=0.8)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")#画净值曲线
monthlyReturn(SNET)
plot.xts(monthlyReturn(SNET),main="产品月度收益率",lwd = 4,col="blue",type="h")
plot.xts(monthlyReturn(SNET),main="产品月度收益率",lwd = 20,col="blue",type="h")
plot.xts(monthlyReturn(SNET),main="产品月度收益率",col="blue",type="h")
plot.xts(monthlyReturn(SNET),main="产品月度收益率",width=1，col="blue",type="h")
plot.xts(monthlyReturn(SNET),main="产品月度收益率",width=1,col="blue",type="h")
plot.xts(monthlyReturn(SNET),main="产品月度收益率",width=1,col="blue",type="b")
plot.xts(monthlyReturn(SNET),main="产品月度收益率",width=1,col="blue",type="h")
barplot(monthlyReturn(SNET),main="产品月度收益率",width=1,col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",width=1,col="blue")
barplot(monthlyReturn(SNET),main="产品月度收益率",sub="",width=1,col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",width=1,col="blue")
barplot(monthlyReturn(SNET),main="产品月度收益率",width=1,col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",width=1,col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",width=1,col="blue")
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
library("tserise")
install.packages("library(")
install.packages("tserise")
install.packages("tseries")
library("tserise")
library("tseries")
maxdrawdown(SNET)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
cmaxx <- cummax(SNET)
plot.xts(SNET)
plot.xts(cmaxx)
cmaxx <- cummax(SNET)-SNET
plot.xts(cmaxx)
cmaxx <- cummax(SNET)/SNET
plot.xts(cmaxx)
cmaxx <- SNET/cummax(SNET)
plot.xts(cmaxx)
cmaxx <- SNET/cummax(SNET)-1
plot.xts(cmaxx)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
lines(cmaxx)
lines(cmaxx)
lines(SNET)
lines(SNET)
plot(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
lines(SNET)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
detach("package:xtsExtra", unload=TRUE)
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
lines(SNET)
library("xtsExtra")
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
lines(SNET)
lines(cmaxx)
lines(SNET)
#======指标计算=========
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(SNET,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(SNET,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
merge.xts(data,cmaxx)
data<-merge.xts(data,cmaxx)
data
plot.xts(data)
plot.xts(data[,2:3])
plot.xts(data[,2:3],col=c("red","blue"))
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2)
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
install.packages("RJava")
install.packages("rJava")
ls
.libPaths()
bmp()
par(family='SimHei')#中文字体
#画净值曲线
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
library("zoo")
library("xts")
library("xtsExtra")
library("TTR")
library("quantmod")
library("tserise")
library("pryr")
plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
maxdrawdown(SNET)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
dev.off()
source('~/R-Workspaces/WZxts/R/WZ-TA.R', echo=TRUE)
library("zoo")
library("xts")
library("xtsExtra")
library("TTR")
library("quantmod")
library("tserise")
data<- as.xts(read.zoo(file="R/data.csv",sep = ";", format = "%Y/%m/%d"))#从csv导入数据
dimnames(data) <- list(c(1:2),c("NET","SNET"))#设定净值列名
index(data) <- as.POSIXct(index(data))#将时间序列的时间类型从"Date" 转成 "POSIXct" "POSIXt"
data<- apply.weekly(data,last)#转为周净值
#data<- getSymbols("300170.sz",from=Sys.Date() -90,auto.assign = FALSE)#从雅虎导入数据
AnnualizedYield(data)
AnnualizedYield(data)
AnnualizedYield <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
bmp()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
dev.off()
}
AnnualizedYield(data)
AnnualizedYield(data)
AnnualizedYield <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
AnnualizedYield(data)
dev.list()
dev.cur()
setwd("/Users/jason-mini/R-Workspaces/WZxts/")
AnnualizedYield(data)
setwd("/Users/jason-mini/R-Workspaces/")
AnnualizedYield(data)
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
setwd("/Users/jason-mini/R-Workspaces/WZxts/")
data<- as.xts(read.zoo(file="R/data.csv",sep = ";", format = "%Y/%m/%d"))#从csv导入数据
dimnames(data) <- list(c(1:2),c("NET","SNET"))#设定净值列名
index(data) <- as.POSIXct(index(data))#将时间序列的时间类型从"Date" 转成 "POSIXct" "POSIXt"
data<- apply.weekly(data,last)#转为周净值
AnnualizedYield(data)
WZTA(data)
WZTA(data)
jpeg("WZTA")
WZTA(data)
jpeg(filename = "WZTA")
WZTA(data)
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg(filename = "WZTA")
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
WZTA(data)
jpeg(filename = "WZTA.jpg")
WZTA(data)
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg(filename = "WZTA.jpg")
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
WZTA(data)
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
WZTA(data)
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
WZTA(data)
setwd("/Users/jason-mini/R-Workspaces/WZxts/")
data<- as.xts(read.zoo(file="R/data.csv",sep = ";", format = "%Y/%m/%d"))#从csv导入数据
dimnames(data) <- list(c(1:2),c("NET","SNET"))#设定净值列名
index(data) <- as.POSIXct(index(data))#将时间序列的时间类型从"Date" 转成 "POSIXct" "POSIXt"
data<- apply.weekly(data,last)#转为周净值
#data<- getSymbols("300170.sz",from=Sys.Date() -90,auto.assign = FALSE)#从雅虎导入数据
WZTA(data)
dev.list
dev.list()
dev.cur()
WZTA(data)
X11()
dev.cur()
dev.list()
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.list()
quartz()
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
SNET <- data[,"SNET"]#净值序列
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
par(family='SimHei')#中文字体
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
WZTA <- function(data){
SNET <- data[,"SNET"]#净值序列
#======开始画图=========
jpeg()
par(family='SimHei')#中文字体
#画净值曲线
#plot.xts(SNET,main = "净值曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
#添加图例
#legend("topleft",inset=c(0,0),legend = c("Denisovan","Neandertal","Papuan","YRI","CEU","JPT","CHB"),pch=16)
cmaxx <- SNET/cummax(SNET)-1
data<-merge.xts(data,cmaxx)
#plot.xts(cmaxx,main = "回撤曲线",col="red",lwd = 2, xlab = "x轴标签",  ylab = "y轴标签",type="l")
plot.xts(data[,2:3],col=c("red","blue"),lwd = 2,main = "回撤分析")
#产品月度收益率
barplot(monthlyReturn(SNET),main="产品月度收益率",col="blue")
#产品季度收益率
barplot(quarterlyReturn(SNET),main="产品季度收益率",col="blue")
dev.off()
}
WZTA(data)
dev.list()
dev.off(3)
dev.off(4)
dev.list()
data(sample_matrix)
sample_matrix
class(sample_matrix)
unclass(sample_matrix)
attributes(sample_matrix)
dimnames(sample_matrix)[2] <- c("Open","High","Low","Close")
dimnames(sample_matrix)
dimnames(sample_matrix)[1]
dimnames(sample_matrix)[2]
dimnames(sample_matrix)[2] <- c("Open","High","Low","Close")
dimnames(sample_matrix) <- c("Open","High","Low","Close")
dimnames(sample_matrix) <- list(c("Open","High","Low","Close"))
dimnames(sample_matrix) <- list(,c("Open","High","Low","Close"))
dimnames(sample_matrix)[1] <- c("Open","High","Low","Close")
dimnames(sample_matrix)[2] <- c("Open","High","Low","Close")
names(sample_matrix) <- c("Open","High","Low","Close")
attributes(sample_matrix)
names(sample_matrix) <- NA
attributes(sample_matrix)
names(sample_matrix) <- NULL
attributes(sample_matrix)
dimnames(sample_matrix) <- list(dimnames(sample_matrix)[1],c("A","B","C","D"))
dimnames(sample_matrix)[1]
dim1 <- dimnames(sample_matrix)[1]
dimnames(sample_matrix) <- list(dim1,c("A","B","C","D"))
dim1 <- as.vector(dimnames(sample_matrix)[1])
dim1 <- as.vector(dimnames(sample_matrix)[1])
dim1 <- as.vector(dimnames(sample_matrix)[1])
dim2 <- c("A","B","C","D")
dimnames(sample_matrix) <- list(dim1,dim2)
dim1 <- dimnames(sample_matrix)[1]
dim1
dim1 <- dimnames(sample_matrix)[,1]
dim1 <- dimnames(sample_matrix)[,1]
dim1 <- dimnames(sample_matrix)[1,]
dim1 <- dimnames(sample_matrix)[[1]]
dimnames(sample_matrix) <- list(dim1,dim2)
dimnames(sample_matrix)
dim2 <- c("c","B","C","D")
dimnames(sample_matrix)[[2]] <- dim2
dimnames(sample_matrix)
sample_matrix
